<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
	<title>リピーター(React)</title>
	<style>
		.todo-wrapper > div{
			width: 100%;
			text-align: center;
			margin-top: 5%;
		}
		.textbox{
			width:400px;
			margin: 0 auto;
			height: 14px;
		}
		.button{
			position: relative;
			top: -1.5px;
			background-color: #DDD;
			margin: 10px auto 0;
		}

		.data-display{
			display:block;

			width: 45%;
			height: 50px;
			margin: 20px auto 0;
			background-color: rgba(50,200,150,1);
		}
	</style>
	<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
	<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
	<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>
<body>
	<div id="jsi-todo-wrapper" class="jsc-todo-wrapper todo-wrapper"></div>
<script type="text/babel">
	//https://www.skptricks.com/2018/06/append-or-prepend-html-using-reactjs.html
	class Todo extends React.Component{
		constructor(props){
			super(props);
			this.dataStorage = [];
			this.state = {
				dataDisplay : [],
				textValue : ""
			};
		}
		addData(){
			let currentTextValue = document.getElementsByClassName("jsc-textbox")[0].value;
			if(currentTextValue.length == 0){
				return;
			}
			this.dataStorage.push(
				<div key={this.state.dataDisplay.length}>
					<input type="text" className="jsc-textbox textbox" onBlur={this.updateData.bind(this)}/>
					<input type="button" className="jsc-button button" value="削除" onClick={this.eraseData.bind(this)}/>
				</div>
				);

			this.setState({
				dataDisplay : this.dataStorage
			});
		}
		updateData(event){
			console.log(event.target.value);
		}
		eraseData(){
			
		}
		render(){
			return(
				<div>
					<input type="text" className="jsc-textbox textbox" ref={null}/>
					<input type="button" className="jsc-button button" value="作成" onClick={this.addData.bind(this)}/>
					<div className="jsc-data-display data-display">
						{this.state.dataDisplay}
					</div>
				</div>
			);
		}
	}

	ReactDOM.render(
		<Todo />,
		document.getElementsByClassName("jsc-todo-wrapper")[0]
	);
</script>
</body>
</html>
